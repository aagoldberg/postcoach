@import "tailwindcss";

:root {
  --background: #f2f5f3; /* Soft Sage / Grey-Green */
  --foreground: #1a1f2e; /* Deep Ink */
  
  --brand-primary: #1a1f2e; /* Ink */
  --brand-secondary: #4b5e54; /* Muted Forest */
  --brand-accent: #d4b483; /* Muted Gold */
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans), ui-sans-serif, system-ui;
  --font-serif: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
  --font-mono: var(--font-geist-mono);
  
  --color-brand-primary: var(--brand-primary);
  --color-brand-secondary: var(--brand-secondary);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans);
  @apply antialiased selection:bg-stone-200;
}

/* =========================================
   DEFAULT THEME (SAGE) - BASE STYLES
   ========================================= */

/* Typography Defaults - Explicitly Dark & Normal Case */
h1, h2, h3, h4, h5, h6 {
  color: #1a1f2e;
  text-transform: none;
  letter-spacing: -0.02em;
  font-weight: 700;
}

.serif-heading {
  font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
  font-style: italic;
  font-weight: 900;
  color: #1a1f2e;
}

p, li, span, div, strong, b {
  color: #44403c; /* Stone-700 */
}

/* Fix specific UI elements that were invisible */
.text-stone-400 { color: #a8a29e !important; }
.text-stone-500 { color: #78716c !important; }
.text-slate-900 { color: #0f172a !important; }
.bg-white { background-color: #ffffff !important; }

/* Exempt semantic utility colors from being dark grey */
.text-emerald-600 { color: #059669 !important; }
.text-rose-600 { color: #e11d48 !important; }
.text-indigo-600 { color: #4f46e5 !important; }
.text-teal-600 { color: #0d9488 !important; }

@layer utilities {
  .premium-card {
    @apply bg-white shadow-[0_20px_50px_-12px_rgba(0,0,0,0.04)] hover:shadow-[0_30px_60px_-12px_rgba(0,0,0,0.06)] transition-all duration-700 rounded-[2.5rem];
  }
  
  .serif-heading {
    @apply font-serif italic tracking-tight;
  }

  /* Semantic Theme Utilities - Default (Sage) */
  .bg-success-subtle { @apply bg-emerald-50; }
  .text-success-bold { @apply text-emerald-600; }
  .icon-success { @apply text-emerald-600; }

  .bg-error-subtle { @apply bg-rose-50; }
  .text-error-bold { @apply text-rose-600; }
  .icon-error { @apply text-rose-500; }

  .bg-info-subtle { @apply bg-indigo-50; }
  .text-info-bold { @apply text-indigo-600; }
  .icon-info { @apply text-indigo-600; }

  .bg-surface-subtle { @apply bg-stone-50; }

  /* Default (Sage) Typography - High Contrast */
  h1, h2, h3, h4, .serif-heading {
    color: var(--foreground);
  }
  
  p, li, span {
    color: #57534e; /* Stone-600 */
  }
}

/* 
   ==========================================================================
   CYBERPUNK THEME - UNIXPORN / HIGH DENSITY TERMINAL
   ========================================================================== 
*/

.theme-cyberpunk {
  --background: #000000;
  --foreground: #ffffff;
  --brand-primary: #ff0099; /* Decorative Magenta */
  --brand-secondary: #00f0ff; /* Primary Action Cyan */
  --font-sans: var(--font-geist-mono);
}

.theme-cyberpunk * {
  border-radius: 0 !important;
  font-family: var(--font-geist-mono) !important;
  box-shadow: none !important;
  text-shadow: none !important;
}

/* Background Nuking - Force everything dark */
.theme-cyberpunk,
.theme-cyberpunk main,
.theme-cyberpunk div,
.theme-cyberpunk section,
.theme-cyberpunk .premium-card,
.theme-cyberpunk .premium-card div, /* Force ALL children of cards to be black/transparent */
.theme-cyberpunk .bg-white,
.theme-cyberpunk .bg-stone-50,
.theme-cyberpunk .bg-slate-50,
.theme-cyberpunk .bg-zinc-50,
.theme-cyberpunk .bg-stone-100 {
  background-color: #000000 !important;
}

/* Semantic Mappings - Cyberpunk */
.theme-cyberpunk .bg-success-subtle {
  background-color: #00f0ff !important;
  color: #000000 !important;
}
.theme-cyberpunk .bg-success-subtle *,
.theme-cyberpunk .bg-success-subtle p,
.theme-cyberpunk .bg-success-subtle span {
  color: #000000 !important;
  font-weight: 800 !important;
}

.theme-cyberpunk .bg-error-subtle {
  background-color: #ff3131 !important;
  color: #000000 !important;
}
.theme-cyberpunk .bg-error-subtle *,
.theme-cyberpunk .bg-error-subtle p,
.theme-cyberpunk .bg-error-subtle span {
  color: #000000 !important;
  font-weight: 800 !important;
}

.theme-cyberpunk .bg-info-subtle {
  background-color: transparent !important;
  border: 1px solid #00f0ff !important;
  color: #00f0ff !important;
}

.theme-cyberpunk .bg-surface-subtle {
  background-color: #0a0a0a !important;
  border: 1px solid #333 !important;
}

/* Hardcoded Block Nuking */
.theme-cyberpunk .bg-\[\#4f46e5\],
.theme-cyberpunk .bg-\[\#18181b\],
.theme-cyberpunk .bg-\[\#1a1f2e\] {
  background-color: #000000 !important;
  border: 1px solid #00f0ff !important;
}

/* Text & Headings - CYBERPUNK ONLY */
.theme-cyberpunk h1, 
.theme-cyberpunk h2, 
.theme-cyberpunk h3, 
.theme-cyberpunk h4,
.theme-cyberpunk .serif-heading,
.theme-cyberpunk .text-\[\#1a1f2e\],
.theme-cyberpunk .text-slate-900 {
  color: #ffffff !important;
  text-transform: uppercase !important;
  font-style: normal !important;
  letter-spacing: 0.1em !important;
}

/* SAGE THEME DEFAULTS (Implicit or Explicit) */
h1, h2, h3, h4 {
  color: #1a1f2e;
  text-transform: none; /* Restore normal case for Sage */
  letter-spacing: -0.02em; /* Tight editorial spacing */
}

.serif-heading {
  font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
  font-style: italic;
}

/* Fix invisible stats numbers in Sage */
.text-\[\#1a1f2e\], .text-slate-900 {
  color: #1a1f2e;
}

/* Fix invisible sidebar topic text */
.bg-surface-subtle p,
.bg-surface-subtle span {
  color: #1a1f2e; /* Ensure text on surface is dark in Sage */
}

.theme-cyberpunk p,
.theme-cyberpunk span,
.theme-cyberpunk li {
  color: #bbbbbb !important; 
}

/* Specific Context Quote Styling */
.theme-cyberpunk .border-l-2 {
  border-left-color: #00f0ff !important;
  color: #00f0ff !important;
  opacity: 0.8;
}

/* Interactive Elements */
.theme-cyberpunk button {
  background-color: transparent !important;
  border: 1px solid #00f0ff !important;
  color: #00f0ff !important;
  font-weight: 900 !important;
  box-shadow: none !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.theme-cyberpunk button:hover {
  background-color: #00f0ff !important;
  color: #000000 !important;
  box-shadow: 0 0 20px rgba(0, 240, 255, 0.6) !important;
}

.theme-cyberpunk button[type="submit"] {
  background-color: #00f0ff !important;
  color: #000000 !important;
}

/* Fix for Weekly Brief buttons */
.theme-cyberpunk .flex.gap-2 button {
  height: 40px !important; /* Force equal height */
  min-width: 120px !important;
}

/* Hyper-Dense Layout */
.theme-cyberpunk .p-12, 
.theme-cyberpunk .p-10, 
.theme-cyberpunk .p-8,
.theme-cyberpunk .p-6 {
  padding: 1rem !important;
}

.theme-cyberpunk .space-y-12 > * + * { margin-top: 1rem !important; }
.theme-cyberpunk .space-y-24 > * + * { margin-top: 1.5rem !important; }
.theme-cyberpunk .space-y-8 > * + * { margin-top: 0.75rem !important; }
.theme-cyberpunk .space-y-6 > * + * { margin-top: 0.5rem !important; }
.theme-cyberpunk .gap-8 { gap: 1rem !important; }
.theme-cyberpunk .gap-16 { gap: 1rem !important; }

/* Text Compression */
.theme-cyberpunk p,
.theme-cyberpunk li,
.theme-cyberpunk span,
.theme-cyberpunk div {
  font-size: 0.75rem !important; /* text-xs */
  line-height: 1.4 !important;
}

.theme-cyberpunk h1, 
.theme-cyberpunk h2, 
.theme-cyberpunk h3, 
.theme-cyberpunk h4 {
  font-size: 1.125rem !important; /* text-lg max */
  margin-bottom: 0.5rem !important;
}

.theme-cyberpunk .text-3xl,
.theme-cyberpunk .text-4xl,
.theme-cyberpunk .text-6xl {
  font-size: 1.25rem !important;
}

/* Specific component tightening */
.theme-cyberpunk .w-16.h-16 {
  width: 2rem !important;
  height: 2rem !important;
}

.theme-cyberpunk .w-12.h-12 {
  width: 1.5rem !important;
  height: 1.5rem !important;
}

.theme-cyberpunk .mb-10, 
.theme-cyberpunk .mb-8, 
.theme-cyberpunk .mb-6 {
  margin-bottom: 0.5rem !important;
}

/* Scanlines Overlay */
.theme-cyberpunk .scanlines {
  background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%);
  background-size: 100% 3px;
  opacity: 0.3;
}